---
layout: default
title: Validation
is_index: true
---
{% raw %}
<div ng-app="demo">
    <div class="container" style="padding-top: 50px">
        <form ng-controller="MainController as main" name="myForm" novalidate  ng-submit="submit()">

            <h3>Form validation</h3>

            <p>Submit is canceled when form is not valid. Form validations occurs on:</p>
            <ul>
                <li>keydown after the field has been blurred one time</li>
                <li>form submit (either submit button or pressing enter key).</li>
            </ul>

            <p>Source : <a href="https://github.com/Evaneos/ev-fdm-demo/tree/validation/docs/_demos/validation">ev-fdm-demo/tree/validation/docs/_demos/validation</a></p>


            <div style="width: 50%; float: right;" >
                <div class="form-group" ng-class="{ 'has-error': myForm.login.evHasError }">
                    <label for="login">Login (required, min 3 chars, validable on blur)</label>
                    <input type="text"
                            class="form-control"
                            autocomplete="off"
                            ng-model="user.login"
                            ng-required="true"
                            ng-minlength="3"
                            name="login"
                            ng-blur="setValidable(myForm.login)"
                            ng-keyup="hasError(myForm.login)"
                            >
                    <ul class="errors text-danger">
                        <li ng-if="myForm.login.evHasError && myForm.login.$error.required">Login is required</li>
                        <li ng-if="myForm.login.evHasError && myForm.login.$error.minlength">Login length must be greater than 3 characters</li>
                    </ul>
                </div>

                <div class="form-group" ng-class="{ 'has-error': myForm.password.evHasError }">
                    <label for="name">Password (required, min 6 chars, validable on keyup)</label>
                    <input type="password"
                            class="form-control"
                            autocomplete="off"
                            ng-model="user.password"
                            ng-required="true"
                            name="password"
                            ng-keyup="setValidable(myForm.password); hasError(myForm.password)"
                            ng-minlength="6"
                            >
                    <ul class="errors text-danger">
                        <li ng-if="myForm.password.evHasError && myForm.password.$error.required">Password is required</li>
                        <li ng-if="myForm.password.evHasError && myForm.password.$error.minlength">Password length must be greater than 6 characters</li>
                    </ul>
                </div>

                <div class="form-group" ng-class="{ 'has-error': myForm.email.evHasError }">
                    <label for="email">Email (required, email pattern, validable on blur)</label>
                    <input type="email"
                            class="form-control"
                            autocomplete="off"
                            ng-model="user.email"
                            ng-required="true"
                            name="email"
                            ng-blur="setValidable(myForm.email)"
                            ng-keyup="hasError(myForm.email)"
                            ng-pattern="emailPattern"
                            >
                    <ul class="errors text-danger">
                        <li ng-if="myForm.email.evHasError && myForm.email.$error.required">Email is required</li>
                        <li ng-if="myForm.email.evHasError && myForm.email.$error.pattern">Email is invalid</li>
                    </ul>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </div>


            <style type="text/css">
                .errors {
                    list-style: none;
                    margin: 0;
                    padding: 0 10px;
                    font-style: italic;
                }
            </style>

            <div>
                <h3>Debug</h3>
                <ul>
                    <li ng-class="{ 'text-info': submitted }">
                        Form submitted: {{ submitted }}
                    </li>
                    <li>
                        Form valid:
                        <span ng-class="{ 'text-info': myForm.$valid, 'text-danger': !myForm.$valid }">{{ myForm.$valid }}</span>
                    </li>
                    <li>
                        Email  : {{ user.login }}

                        <ul>
                            <li>RAW errors: {{ myForm.login.$error }}</li>
                            <li>Touched: {{ myForm.login.evTouched }}</li>
                            <li>evHasError: {{ myForm.login.evHasError }}</li>
                            <li>Required:
                                <span class="text-info" ng-hide="myForm.login.$error.required">valid</span>
                                <span class="text-danger" ng-show="myForm.login.$error.required">in error</span>
                            </li>
                            <li>Min length:
                                <span class="text-info" ng-hide="myForm.login.$error.minlength">valid</span>
                                <span class="text-danger" ng-show="myForm.login.$error.minlength">in error</span>
                            </li>
                        </ul>
                    </li>

                    <li>
                        Password  : {{ user.password }}

                        <ul>
                            <li>RAW errors: {{ myForm.password.$error }}</li>
                            <li>Touched: {{ myForm.password.evTouched }}</li>
                            <li>evHasError: {{ myForm.password.evHasError }}</li>
                            <li>Required:
                                <span class="text-info" ng-hide="myForm.password.$error.required">valid</span>
                                <span class="text-danger" ng-show="myForm.password.$error.required">in error</span>
                            </li>
                            <li>Min length:
                                <span class="text-info" ng-hide="myForm.password.$error.minlength">valid</span>
                                <span class="text-danger" ng-show="myForm.password.$error.minlength">in error</span>
                            </li>
                        </ul>
                    </li>

                    <li>
                        Email  : {{ user.email }}

                        <ul>
                            <li>RAW errors: {{ myForm.email.$error }}</li>
                            <li>Touched: {{ myForm.email.evTouched }}</li>
                            <li>evHasError: {{ myForm.email.evHasError }}</li>
                            <li>Required:
                                <span class="text-info" ng-hide="myForm.email.$error.required">valid</span>
                                <span class="text-danger" ng-show="myForm.email.$error.required">in error</span>
                            </li>
                            <li>Format:
                                <span class="text-info" ng-hide="myForm.email.$error.pattern">valid</span>
                                <span class="text-danger" ng-show="myForm.email.$error.pattern">invalid</span>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </form>
    </div>
</div>
{% endraw %}


{% include script.html %}
<script type='text/javascript' src='app/app.js'></script>
<script type='text/javascript' src='app/controllers/MainController.js'></script>
